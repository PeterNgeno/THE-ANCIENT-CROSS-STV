<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Christian Quotes Fliers</title>

<style>
:root{
  --accent:#f2c94c; 
  --bg:#003366; 
  --muted:#d0d7e4;
  --card-bg:rgba(255,255,255,0.06);
  --shadow:rgba(0,0,0,0.4);
}

*{box-sizing:border-box}

body{
  margin:0;
  padding:30px 20px;
  font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;
  background:var(--bg);
  color:#fff;
  line-height:1.6;
}

h1{
  text-align:center;
  font-size:28px;
  margin-bottom:30px;
  letter-spacing:1px;
}

/* ===== GROUP BUTTONS (Magazine Cards) ===== */
#groups{
  display:flex;
  flex-wrap:wrap;
  gap:15px;
  justify-content:center;
}

.group{
  cursor:pointer;
  padding:14px 20px;
  background:var(--card-bg);
  border-radius:14px;
  box-shadow:0 6px 16px var(--shadow);
  font-weight:700;
  letter-spacing:0.5px;
  transition:0.2s ease;
}

.group:hover{
  transform:translateY(-4px);
  background:rgba(255,255,255,0.1);
  color:var(--accent);
}

/* ===== IMAGES GRID ===== */
#images{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:15px;
  margin-top:40px;
}

#images img{
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:14px;
  cursor:pointer;
  box-shadow:0 6px 16px var(--shadow);
  transition:0.2s ease;
}

#images img:hover{
  transform:scale(1.04);
}

/* ===== FULLSCREEN VIEW ===== */
#fullscreen{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.92);
  justify-content:center;
  align-items:center;
  z-index:9999;
  backdrop-filter:blur(4px);
}

#fullscreen img{
  max-width:95%;
  max-height:95%;
  border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,0.6);
}

</style>
</head>
<body>

<h1>Christian Quotes Fliers</h1>

<div id="groups"></div>
<div id="images"></div>

<div id="fullscreen" onclick="this.style.display='none'">
  <img id="fsImg" src="">
</div>

<script>
const sheetID = '16zkLLPbpzv171WEOAt4-LMemJmmIUxL0XbgwRz4hTTY';
const sheetName = 'Sheet1';

const groupsDiv = document.getElementById('groups');
const imagesDiv = document.getElementById('images');
const fsImg = document.getElementById('fsImg');
const fullscreen = document.getElementById('fullscreen');

fetch(`https://docs.google.com/spreadsheets/d/${sheetID}/gviz/tq?tqx=out:json&sheet=${sheetName}`)
  .then(res => res.text())
  .then(data => {
    const json = JSON.parse(data.substring(47).slice(0, -2));
    const rows = json.table.rows;

    rows.forEach(row => {
      const groupName = row.c[0]?.v;
      if (!groupName) return;

      const imageUrls = row.c.slice(1)
        .map(cell => cell?.v)
        .filter(url => url && url.trim() !== '');

      if(imageUrls.length){
        const div = document.createElement('div');
        div.className = 'group';
        div.textContent = groupName;
        div.onclick = () => showImages(imageUrls);
        groupsDiv.appendChild(div);
      }
    });
  });

function showImages(urls){
  imagesDiv.innerHTML = '';
  urls.forEach(url => {
    const img = document.createElement('img');
    img.src = url;
    img.onclick = () => { 
      fsImg.src = url; 
      fullscreen.style.display='flex'; 
    }
    imagesDiv.appendChild(img);
  });
}
</script>

</body>
</html>
